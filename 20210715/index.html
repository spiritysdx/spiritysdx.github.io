<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5991535488582679"
     crossorigin="anonymous"></script>
        
        <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
        <script>LA.init({id: "JcYvzwJYoTs6XHSy",ck: "JcYvzwJYoTs6XHSy"})</script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>2020新型冠状病毒（COVID-19/2019-nCoV）疫情分析(补档) - 二叉树的博客</title><meta name="Description" content="个人学习日志"><meta property="og:title" content="2020新型冠状病毒（COVID-19/2019-nCoV）疫情分析(补档)" />
<meta property="og:description" content="新型冠状病毒（COVID-19/2019-nCoV）疫情分析 源文档详见：博客相关资源-新冠疫情数据分析文件 重要说明 分析文档：完成度：代码质量" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.spiritysdx.top/20210715/" /><meta property="og:image" content="http://www.spiritysdx.top/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-07-15T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-07-15T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://www.spiritysdx.top/logo.png"/>

<meta name="twitter:title" content="2020新型冠状病毒（COVID-19/2019-nCoV）疫情分析(补档)"/>
<meta name="twitter:description" content="新型冠状病毒（COVID-19/2019-nCoV）疫情分析 源文档详见：博客相关资源-新冠疫情数据分析文件 重要说明 分析文档：完成度：代码质量"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="http://www.spiritysdx.top/20210715/" /><link rel="prev" href="http://www.spiritysdx.top/20210714/" /><link rel="next" href="http://www.spiritysdx.top/20210717/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><meta name="google-site-verification" content="PBUYROol_Ylr49S5WprAUHubcDCRVYTnSVBGmsM3iAY" /><meta name="msvalidate.01" content="FC9B6B8BEB3D3B56844ADA69766DBB24" /><meta name="yandex-verification" content="a12c7b8653d13f5c" /><meta name="baidu-site-verification" content="code-PDms1QIQxn" /><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "2020新型冠状病毒（COVID-19/2019-nCoV）疫情分析(补档)",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/www.spiritysdx.top\/20210715\/"
        },"genre": "posts","keywords": "数学建模, python","wordcount":  10336 ,
        "url": "http:\/\/www.spiritysdx.top\/20210715\/","datePublished": "2021-07-15T00:00:00+00:00","dateModified": "2021-07-15T00:00:00+00:00","publisher": {
            "@type": "Organization",
            "name": ""},"author": {
                "@type": "Person",
                "name": "二叉树上的我"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <script data-ad-client="ca-pub-5991535488582679" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
            <a href="/" title="二叉树的博客"></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/" title="二叉树上的我"> 首页 </a><a class="menu-item" href="/posts/" title="时间轴"> 时间轴 </a><a class="menu-item" href="/tags/" title="文章相关标签"> 标签 </a><a class="menu-item" href="/categories/" title="分类档案"> 归档 </a><a class="menu-item" href="/about/ziyuan" title="博客相关资源"> 资源 </a><a class="menu-item" href="/about/about" title="本站说明"> 关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="请输入关键字" id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="二叉树的博客"></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="请输入关键字" id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/" title="二叉树上的我">首页</a><a class="menu-item" href="/posts/" title="时间轴">时间轴</a><a class="menu-item" href="/tags/" title="文章相关标签">标签</a><a class="menu-item" href="/categories/" title="分类档案">归档</a><a class="menu-item" href="/about/ziyuan" title="博客相关资源">资源</a><a class="menu-item" href="/about/about" title="本站说明">关于</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">2020新型冠状病毒（COVID-19/2019-nCoV）疫情分析(补档)</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>二叉树上的我</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/python/"><i class="far fa-folder fa-fw"></i>python</a>&nbsp;<a href="/categories/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1/"><i class="far fa-folder fa-fw"></i>数学建模</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-07-15">2021-07-15</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 10336 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 21 分钟&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="true">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#font-colorred重要说明font"><font color='red'>重要说明</font></a></li>
    <li><a href="#一-提出问题">一. 提出问题</a></li>
    <li><a href="#二-理解数据">二. 理解数据</a></li>
    <li><a href="#三-数据清洗">三. 数据清洗</a>
      <ul>
        <li><a href="#一基本数据处理">（一）基本数据处理</a>
          <ul>
            <li><a href="#国内疫情数据选取最终选取的数据命名为china">国内疫情数据选取（最终选取的数据命名为china）</a></li>
            <li><a href="#你所在省市疫情数据选取最终选取的数据命名为myhome">你所在省市疫情数据选取（最终选取的数据命名为myhome）</a></li>
            <li><a href="#国外疫情数据选取最终选取的数据命名为world">国外疫情数据选取（最终选取的数据命名为world）</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#四-数据分析及可视化">四. 数据分析及可视化</a>
      <ul>
        <li><a href="#基础分析">基础分析</a>
          <ul>
            <li><a href="#一全国累计确诊疑似治愈死亡情况随时间变化趋势如何">（一）全国累计确诊/疑似/治愈/死亡情况随时间变化趋势如何？</a></li>
            <li><a href="#二全国新增确诊疑似治愈死亡情况随时间变化趋势如何">（二）全国新增确诊/疑似/治愈/死亡情况随时间变化趋势如何？</a></li>
            <li><a href="#三全国新增境外输入随时间变化趋势如何">（三）全国新增境外输入随时间变化趋势如何？</a></li>
            <li><a href="#四你所在的省市情况如何">（四）你所在的省市情况如何？</a></li>
            <li><a href="#五国外疫情态势如何">（五）国外疫情态势如何？</a></li>
            <li><a href="#六结合你的分析结果对个人和社会在抗击疫情方面有何建议">（六）结合你的分析结果，对个人和社会在抗击疫情方面有何建议？</a></li>
          </ul>
        </li>
        <li><a href="#附加分析选做">附加分析(选做)</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h1 id="新型冠状病毒covid-192019-ncov疫情分析">新型冠状病毒（COVID-19/2019-nCoV）疫情分析</h1>
<p><strong>源文档详见：<a href="https://www.spiritlhl.top/ziyuan/" target="_blank" rel="noopener noreffer">博客相关资源-新冠疫情数据分析文件</a></strong></p>
<h2 id="font-colorred重要说明font"><font color='red'>重要说明</font></h2>
<p>分析文档：完成度：代码质量 3:5:2</p>
<p>其中分析文档是指你数据分析的过程中，对各问题分析的思路、对结果的解释、说明(要求言简意赅，不要为写而写)</p>
<p>ps:<font color='red'>你自己写的代码胜过一切的代笔，无关美丑，只问今日比昨日更长进！加油！</font></p>
<p>由于数据过多，查看数据尽量使用head()或tail()，以免程序长时间无响应</p>
<p>=======================</p>
<p>本项目数据来源于丁香园。本项目主要目的是<strong>通过对疫情历史数据的分析研究，以更好的了解疫情与疫情的发展态势，为抗击疫情之决策提供数据支持。</strong></p>
<p>关于本章使用的数据集，欢迎点击——&gt;<a href="https://www.bilibili.com/video/BV1rC4y187Ek/" target="_blank" rel="noopener noreffer">我的B站视频</a>            在评论区获取。</p>
<h2 id="一-提出问题">一. 提出问题</h2>
<p>从全国范围，你所在省市，国外疫情等三个方面主要研究以下几个问题：</p>
<p>（一）全国累计确诊/疑似/治愈/死亡情况随时间变化趋势如何？</p>
<p>（二）全国新增确诊/疑似/治愈/死亡情况随时间变化趋势如何？</p>
<p>（三）全国新增境外输入随时间变化趋势如何？</p>
<p>（四）你所在的省市情况如何？</p>
<p>（五）国外疫情态势如何？</p>
<p>（六）结合你的分析结果，对个人和社会在抗击疫情方面有何建议？</p>
<h2 id="二-理解数据">二. 理解数据</h2>
<p>原始数据集：AreaInfo.csv，导入相关包及读取数据：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">r_hex</span> <span class="o">=</span> <span class="s1">&#39;#dc2624&#39;</span>     <span class="c1"># red,       RGB = 220,38,36</span>
</span></span><span class="line"><span class="cl"><span class="n">dt_hex</span> <span class="o">=</span> <span class="s1">&#39;#2b4750&#39;</span>    <span class="c1"># dark teal, RGB = 43,71,80</span>
</span></span><span class="line"><span class="cl"><span class="n">tl_hex</span> <span class="o">=</span> <span class="s1">&#39;#45a0a2&#39;</span>    <span class="c1"># teal,      RGB = 69,160,162</span>
</span></span><span class="line"><span class="cl"><span class="n">r1_hex</span> <span class="o">=</span> <span class="s1">&#39;#e87a59&#39;</span>    <span class="c1"># red,       RGB = 232,122,89</span>
</span></span><span class="line"><span class="cl"><span class="n">tl1_hex</span> <span class="o">=</span> <span class="s1">&#39;#7dcaa9&#39;</span>   <span class="c1"># teal,      RGB = 125,202,169</span>
</span></span><span class="line"><span class="cl"><span class="n">g_hex</span> <span class="o">=</span> <span class="s1">&#39;#649E7D&#39;</span>     <span class="c1"># green,     RGB = 100,158,125</span>
</span></span><span class="line"><span class="cl"><span class="n">o_hex</span> <span class="o">=</span> <span class="s1">&#39;#dc8018&#39;</span>     <span class="c1"># orange,    RGB = 220,128,24</span>
</span></span><span class="line"><span class="cl"><span class="n">tn_hex</span> <span class="o">=</span> <span class="s1">&#39;#C89F91&#39;</span>    <span class="c1"># tan,       RGB = 200,159,145</span>
</span></span><span class="line"><span class="cl"><span class="n">g50_hex</span> <span class="o">=</span> <span class="s1">&#39;#6c6d6c&#39;</span>   <span class="c1"># grey-50,   RGB = 108,109,108</span>
</span></span><span class="line"><span class="cl"><span class="n">bg_hex</span> <span class="o">=</span> <span class="s1">&#39;#4f6268&#39;</span>    <span class="c1"># blue grey, RGB = 79,98,104</span>
</span></span><span class="line"><span class="cl"><span class="n">g25_hex</span> <span class="o">=</span> <span class="s1">&#39;#c7cccf&#39;</span>   <span class="c1"># grey-25,   RGB = 199,204,207</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">matplotlib</span><span class="o">,</span><span class="nn">re</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">import</span> <span class="n">MultipleLocator</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;data/AreaInfo.csv&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>查看与统计数据，以对数据有一个大致了解</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>continentName</th>
      <th>continentEnglishName</th>
      <th>countryName</th>
      <th>countryEnglishName</th>
      <th>provinceName</th>
      <th>provinceEnglishName</th>
      <th>province_zipCode</th>
      <th>province_confirmedCount</th>
      <th>province_suspectedCount</th>
      <th>province_curedCount</th>
      <th>province_deadCount</th>
      <th>updateTime</th>
      <th>cityName</th>
      <th>cityEnglishName</th>
      <th>city_zipCode</th>
      <th>city_confirmedCount</th>
      <th>city_suspectedCount</th>
      <th>city_curedCount</th>
      <th>city_deadCount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>北美洲</td>
      <td>North America</td>
      <td>美国</td>
      <td>United States of America</td>
      <td>美国</td>
      <td>United States of America</td>
      <td>971002</td>
      <td>2306247</td>
      <td>0.0</td>
      <td>640198</td>
      <td>120351</td>
      <td>2020-06-23 10:01:45</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>南美洲</td>
      <td>South America</td>
      <td>巴西</td>
      <td>Brazil</td>
      <td>巴西</td>
      <td>Brazil</td>
      <td>973003</td>
      <td>1106470</td>
      <td>0.0</td>
      <td>549386</td>
      <td>51271</td>
      <td>2020-06-23 10:01:45</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>欧洲</td>
      <td>Europe</td>
      <td>英国</td>
      <td>United Kingdom</td>
      <td>英国</td>
      <td>United Kingdom</td>
      <td>961007</td>
      <td>305289</td>
      <td>0.0</td>
      <td>539</td>
      <td>42647</td>
      <td>2020-06-23 10:01:45</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>欧洲</td>
      <td>Europe</td>
      <td>俄罗斯</td>
      <td>Russia</td>
      <td>俄罗斯</td>
      <td>Russia</td>
      <td>964006</td>
      <td>592280</td>
      <td>0.0</td>
      <td>344416</td>
      <td>8206</td>
      <td>2020-06-23 10:01:45</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>南美洲</td>
      <td>South America</td>
      <td>智利</td>
      <td>Chile</td>
      <td>智利</td>
      <td>Chile</td>
      <td>973004</td>
      <td>246963</td>
      <td>0.0</td>
      <td>44946</td>
      <td>4502</td>
      <td>2020-06-23 10:01:45</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
<h2 id="三-数据清洗">三. 数据清洗</h2>
<h3 id="一基本数据处理">（一）基本数据处理</h3>
<p>数据清洗主要包括：<strong>选取子集，缺失数据处理、数据格式转换、异常值数据处理</strong>等。</p>
<h4 id="国内疫情数据选取最终选取的数据命名为china">国内疫情数据选取（最终选取的数据命名为china）</h4>
<ol>
<li>
<p>选取国内疫情数据</p>
</li>
<li>
<p>对于更新时间(updateTime)列，需将其转换为日期类型并提取出年-月-日，并查看处理结果。(提示：dt.date)</p>
</li>
<li>
<p>因数据每天按小时更新，一天之内有很多重复数据，请去重并只保留一天之内最新的数据。</p>
</li>
</ol>
<blockquote>
<p>提示：df.drop_duplicates(subset=[&lsquo;provinceName&rsquo;, &lsquo;updateTime&rsquo;], keep=&lsquo;first&rsquo;, inplace=False)</p>
</blockquote>
<blockquote>
<p>其中df是你选择的国内疫情数据的DataFrame</p>
</blockquote>
<p>分析：选取countryName一列中值为中国的行组成CHINA。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">CHINA</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;countryName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;中国&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">CHINA</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;cityName&#39;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;any&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#CHINA</span>
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>D:\Anaconda\envs\python32\lib\site-packages\ipykernel_launcher.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</code></pre>
<p>分析：取出含所有中国城市的列表</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">cities</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">CHINA</span><span class="p">[</span><span class="s1">&#39;cityName&#39;</span><span class="p">]))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：遍历取出每一个城市的子dataframe，然后用sort对updateTime进行时间排序</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">for</span> <span class="n">city</span> <span class="ow">in</span> <span class="n">cities</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">CHINA</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cityName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">city</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;updateTime&#39;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：去除空值所在行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">CHINA</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;cityName&#39;</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#CHINA.loc[CHINA[&#39;cityName&#39;] == &#39;秦皇岛&#39;].tail(20)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>D:\Anaconda\envs\python32\lib\site-packages\ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &quot;&quot;&quot;Entry point for launching an IPython kernel.
</code></pre>
<p>分析：将CHINA中的updateTime列进行格式化处理</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">CHINA</span><span class="o">.</span><span class="n">updateTime</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">CHINA</span><span class="o">.</span><span class="n">updateTime</span><span class="p">,</span><span class="nb">format</span><span class="o">=</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2">&#34;</span><span class="p">,</span><span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
</span></span><span class="line"><span class="cl"><span class="c1">#CHINA.loc[data[&#39;cityName&#39;] == &#39;秦皇岛&#39;].tail(15)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>D:\Anaconda\envs\python32\lib\site-packages\pandas\core\generic.py:5303: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  self[name] = value
</code></pre>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">CHINA</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>continentName</th>
      <th>continentEnglishName</th>
      <th>countryName</th>
      <th>countryEnglishName</th>
      <th>provinceName</th>
      <th>provinceEnglishName</th>
      <th>province_zipCode</th>
      <th>province_confirmedCount</th>
      <th>province_suspectedCount</th>
      <th>province_curedCount</th>
      <th>province_deadCount</th>
      <th>updateTime</th>
      <th>cityName</th>
      <th>cityEnglishName</th>
      <th>city_zipCode</th>
      <th>city_confirmedCount</th>
      <th>city_suspectedCount</th>
      <th>city_curedCount</th>
      <th>city_deadCount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>136</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>陕西省</td>
      <td>Shaanxi</td>
      <td>610000</td>
      <td>317</td>
      <td>1.0</td>
      <td>307</td>
      <td>3</td>
      <td>2020-06-23</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>72.0</td>
      <td>0.0</td>
      <td>65.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>137</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>陕西省</td>
      <td>Shaanxi</td>
      <td>610000</td>
      <td>317</td>
      <td>1.0</td>
      <td>307</td>
      <td>3</td>
      <td>2020-06-23</td>
      <td>西安</td>
      <td>Xi'an</td>
      <td>610100.0</td>
      <td>120.0</td>
      <td>0.0</td>
      <td>117.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>138</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>陕西省</td>
      <td>Shaanxi</td>
      <td>610000</td>
      <td>317</td>
      <td>1.0</td>
      <td>307</td>
      <td>3</td>
      <td>2020-06-23</td>
      <td>安康</td>
      <td>Ankang</td>
      <td>610900.0</td>
      <td>26.0</td>
      <td>0.0</td>
      <td>26.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>139</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>陕西省</td>
      <td>Shaanxi</td>
      <td>610000</td>
      <td>317</td>
      <td>1.0</td>
      <td>307</td>
      <td>3</td>
      <td>2020-06-23</td>
      <td>汉中</td>
      <td>Hanzhong</td>
      <td>610700.0</td>
      <td>26.0</td>
      <td>0.0</td>
      <td>26.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>140</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>陕西省</td>
      <td>Shaanxi</td>
      <td>610000</td>
      <td>317</td>
      <td>1.0</td>
      <td>307</td>
      <td>3</td>
      <td>2020-06-23</td>
      <td>咸阳</td>
      <td>Xianyang</td>
      <td>610400.0</td>
      <td>17.0</td>
      <td>0.0</td>
      <td>17.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
<p>分析：每日数据的去重只保留第一个数据，因为前面已经对时间进行排序，第一个数据即为当天最新数据<br>
分析：考虑到合并dataframe需要用到concat，需要创建一个初始china</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">real</span> <span class="o">=</span> <span class="n">CHINA</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cityName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">cities</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="n">real</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;updateTime&#39;</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">china</span> <span class="o">=</span> <span class="n">real</span>
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>D:\Anaconda\envs\python32\lib\site-packages\ipykernel_launcher.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</code></pre>
<p>分析：遍历每个城市dataframe进行每日数据的去重，否则会出现相同日期只保留一个城市的数据的情况</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">for</span> <span class="n">city</span> <span class="ow">in</span> <span class="n">cities</span><span class="p">[</span><span class="mi">2</span><span class="p">:]:</span>
</span></span><span class="line"><span class="cl">    <span class="n">real_data</span> <span class="o">=</span> <span class="n">CHINA</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;cityName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">city</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">real_data</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;updateTime&#39;</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">china</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">real_data</span><span class="p">,</span> <span class="n">china</span><span class="p">],</span><span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>D:\Anaconda\envs\python32\lib\site-packages\ipykernel_launcher.py:3: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  This is separate from the ipykernel package so we can avoid doing imports until
</code></pre>
<p>查看数据信息，是否有缺失数据/数据类型是否正确。</p>
<p>提示：若不会处理缺失值，可以将其舍弃</p>
<p>分析：有的城市不是每日都上报的，如果某日只统计上报的那些城市，那些存在患者却不上报的城市就会被忽略，数据就失真了，需要补全所有城市每日的数据，即便不上报的城市也要每日记录数据统计，所以要进行插值处理补全部分数据，处理方法详见<code>数据透视与分析</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">china</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">china</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>continentName</th>
      <th>continentEnglishName</th>
      <th>countryName</th>
      <th>countryEnglishName</th>
      <th>provinceName</th>
      <th>provinceEnglishName</th>
      <th>province_zipCode</th>
      <th>province_confirmedCount</th>
      <th>province_suspectedCount</th>
      <th>province_curedCount</th>
      <th>province_deadCount</th>
      <th>updateTime</th>
      <th>cityName</th>
      <th>cityEnglishName</th>
      <th>city_zipCode</th>
      <th>city_confirmedCount</th>
      <th>city_suspectedCount</th>
      <th>city_curedCount</th>
      <th>city_deadCount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>96106</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广西壮族自治区</td>
      <td>Guangxi</td>
      <td>450000</td>
      <td>254</td>
      <td>0.0</td>
      <td>252</td>
      <td>2</td>
      <td>2020-04-02</td>
      <td>贵港</td>
      <td>Guigang</td>
      <td>450800.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>8.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>125120</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广西壮族自治区</td>
      <td>Guangxi</td>
      <td>450000</td>
      <td>254</td>
      <td>0.0</td>
      <td>250</td>
      <td>2</td>
      <td>2020-03-20</td>
      <td>贵港</td>
      <td>Guigang</td>
      <td>450800.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>8.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>128762</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广西壮族自治区</td>
      <td>Guangxi</td>
      <td>450000</td>
      <td>253</td>
      <td>0.0</td>
      <td>250</td>
      <td>2</td>
      <td>2020-03-18</td>
      <td>贵港</td>
      <td>Guigang</td>
      <td>450800.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>8.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>130607</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广西壮族自治区</td>
      <td>Guangxi</td>
      <td>450000</td>
      <td>253</td>
      <td>0.0</td>
      <td>248</td>
      <td>2</td>
      <td>2020-03-17</td>
      <td>贵港</td>
      <td>Guigang</td>
      <td>450800.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>8.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>131428</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广西壮族自治区</td>
      <td>Guangxi</td>
      <td>450000</td>
      <td>252</td>
      <td>0.0</td>
      <td>248</td>
      <td>2</td>
      <td>2020-03-16</td>
      <td>贵港</td>
      <td>Guigang</td>
      <td>450800.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>8.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
<h4 id="你所在省市疫情数据选取最终选取的数据命名为myhome">你所在省市疫情数据选取（最终选取的数据命名为myhome）</h4>
<p>此步也可在后面用到的再做</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">myhome</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;广东省&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">myhome</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>continentName</th>
      <th>continentEnglishName</th>
      <th>countryName</th>
      <th>countryEnglishName</th>
      <th>provinceName</th>
      <th>provinceEnglishName</th>
      <th>province_zipCode</th>
      <th>province_confirmedCount</th>
      <th>province_suspectedCount</th>
      <th>province_curedCount</th>
      <th>province_deadCount</th>
      <th>updateTime</th>
      <th>cityName</th>
      <th>cityEnglishName</th>
      <th>city_zipCode</th>
      <th>city_confirmedCount</th>
      <th>city_suspectedCount</th>
      <th>city_curedCount</th>
      <th>city_deadCount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>205259</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广东省</td>
      <td>Guangdong</td>
      <td>440000</td>
      <td>277</td>
      <td>0.0</td>
      <td>5</td>
      <td>0</td>
      <td>2020-01-29</td>
      <td>外地来粤人员</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>206335</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广东省</td>
      <td>Guangdong</td>
      <td>440000</td>
      <td>207</td>
      <td>0.0</td>
      <td>4</td>
      <td>0</td>
      <td>2020-01-28</td>
      <td>河源市</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>205239</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广东省</td>
      <td>Guangdong</td>
      <td>440000</td>
      <td>277</td>
      <td>0.0</td>
      <td>5</td>
      <td>0</td>
      <td>2020-01-29</td>
      <td>外地来穗人员</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>252</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广东省</td>
      <td>Guangdong</td>
      <td>440000</td>
      <td>1634</td>
      <td>11.0</td>
      <td>1619</td>
      <td>8</td>
      <td>2020-06-23</td>
      <td>潮州</td>
      <td>Chaozhou</td>
      <td>445100.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2655</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广东省</td>
      <td>Guangdong</td>
      <td>440000</td>
      <td>1634</td>
      <td>11.0</td>
      <td>1614</td>
      <td>8</td>
      <td>2020-06-21</td>
      <td>潮州</td>
      <td>Chaozhou</td>
      <td>445100.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
<h4 id="国外疫情数据选取最终选取的数据命名为world">国外疫情数据选取（最终选取的数据命名为world）</h4>
<p>此步也可在后面用到的再做</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">world</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;countryName&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;中国&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">world</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>continentName</th>
      <th>continentEnglishName</th>
      <th>countryName</th>
      <th>countryEnglishName</th>
      <th>provinceName</th>
      <th>provinceEnglishName</th>
      <th>province_zipCode</th>
      <th>province_confirmedCount</th>
      <th>province_suspectedCount</th>
      <th>province_curedCount</th>
      <th>province_deadCount</th>
      <th>updateTime</th>
      <th>cityName</th>
      <th>cityEnglishName</th>
      <th>city_zipCode</th>
      <th>city_confirmedCount</th>
      <th>city_suspectedCount</th>
      <th>city_curedCount</th>
      <th>city_deadCount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>北美洲</td>
      <td>North America</td>
      <td>美国</td>
      <td>United States of America</td>
      <td>美国</td>
      <td>United States of America</td>
      <td>971002</td>
      <td>2306247</td>
      <td>0.0</td>
      <td>640198</td>
      <td>120351</td>
      <td>2020-06-23 10:01:45</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>南美洲</td>
      <td>South America</td>
      <td>巴西</td>
      <td>Brazil</td>
      <td>巴西</td>
      <td>Brazil</td>
      <td>973003</td>
      <td>1106470</td>
      <td>0.0</td>
      <td>549386</td>
      <td>51271</td>
      <td>2020-06-23 10:01:45</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>欧洲</td>
      <td>Europe</td>
      <td>英国</td>
      <td>United Kingdom</td>
      <td>英国</td>
      <td>United Kingdom</td>
      <td>961007</td>
      <td>305289</td>
      <td>0.0</td>
      <td>539</td>
      <td>42647</td>
      <td>2020-06-23 10:01:45</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>欧洲</td>
      <td>Europe</td>
      <td>俄罗斯</td>
      <td>Russia</td>
      <td>俄罗斯</td>
      <td>Russia</td>
      <td>964006</td>
      <td>592280</td>
      <td>0.0</td>
      <td>344416</td>
      <td>8206</td>
      <td>2020-06-23 10:01:45</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>南美洲</td>
      <td>South America</td>
      <td>智利</td>
      <td>Chile</td>
      <td>智利</td>
      <td>Chile</td>
      <td>973004</td>
      <td>246963</td>
      <td>0.0</td>
      <td>44946</td>
      <td>4502</td>
      <td>2020-06-23 10:01:45</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>
<p><strong>数据透视与分析</strong></p>
<p>分析：对china进行插值处理补全部分数据</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">china</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>continentName</th>
      <th>continentEnglishName</th>
      <th>countryName</th>
      <th>countryEnglishName</th>
      <th>provinceName</th>
      <th>provinceEnglishName</th>
      <th>province_zipCode</th>
      <th>province_confirmedCount</th>
      <th>province_suspectedCount</th>
      <th>province_curedCount</th>
      <th>province_deadCount</th>
      <th>updateTime</th>
      <th>cityName</th>
      <th>cityEnglishName</th>
      <th>city_zipCode</th>
      <th>city_confirmedCount</th>
      <th>city_suspectedCount</th>
      <th>city_curedCount</th>
      <th>city_deadCount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>96106</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广西壮族自治区</td>
      <td>Guangxi</td>
      <td>450000</td>
      <td>254</td>
      <td>0.0</td>
      <td>252</td>
      <td>2</td>
      <td>2020-04-02</td>
      <td>贵港</td>
      <td>Guigang</td>
      <td>450800.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>8.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>125120</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广西壮族自治区</td>
      <td>Guangxi</td>
      <td>450000</td>
      <td>254</td>
      <td>0.0</td>
      <td>250</td>
      <td>2</td>
      <td>2020-03-20</td>
      <td>贵港</td>
      <td>Guigang</td>
      <td>450800.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>8.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>128762</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广西壮族自治区</td>
      <td>Guangxi</td>
      <td>450000</td>
      <td>253</td>
      <td>0.0</td>
      <td>250</td>
      <td>2</td>
      <td>2020-03-18</td>
      <td>贵港</td>
      <td>Guigang</td>
      <td>450800.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>8.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>130607</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广西壮族自治区</td>
      <td>Guangxi</td>
      <td>450000</td>
      <td>253</td>
      <td>0.0</td>
      <td>248</td>
      <td>2</td>
      <td>2020-03-17</td>
      <td>贵港</td>
      <td>Guigang</td>
      <td>450800.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>8.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>131428</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>广西壮族自治区</td>
      <td>Guangxi</td>
      <td>450000</td>
      <td>252</td>
      <td>0.0</td>
      <td>248</td>
      <td>2</td>
      <td>2020-03-16</td>
      <td>贵港</td>
      <td>Guigang</td>
      <td>450800.0</td>
      <td>8.0</td>
      <td>0.0</td>
      <td>8.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
<p>分析：先创建省份列表和日期列表，并初始化一个draft</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">province</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]))</span><span class="c1">#每个省份</span>
</span></span><span class="line"><span class="cl"><span class="c1">#p_city = list(set(china[china[&#39;provinceName&#39;] == province[0]][&#39;cityName&#39;]))#每个省份的城市</span>
</span></span><span class="line"><span class="cl"><span class="n">date_0</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">dt</span> <span class="ow">in</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="n">date_0</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">dt</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">date_0</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">date_0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">date_0</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">start</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">end</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">dates</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">start</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">end</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">aid_frame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;updateTime&#39;</span><span class="p">:</span> <span class="n">dates</span><span class="p">,</span><span class="s1">&#39;provinceName&#39;</span><span class="p">:[</span><span class="n">province</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">dates</span><span class="p">)})</span>
</span></span><span class="line"><span class="cl"><span class="n">aid_frame</span><span class="o">.</span><span class="n">updateTime</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">aid_frame</span><span class="o">.</span><span class="n">updateTime</span><span class="p">,</span><span class="nb">format</span><span class="o">=</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2">&#34;</span><span class="p">,</span><span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
</span></span><span class="line"><span class="cl"><span class="c1">#draft = pd.merge(china.loc[china[&#39;provinceName&#39;] ==  province[1]], aid_frame, on=&#39;updateTime&#39;, how=&#39;outer&#39;).sort_values(&#39;updateTime&#39;)</span>
</span></span><span class="line"><span class="cl"><span class="n">draft</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">aid_frame</span><span class="p">],</span> <span class="n">join</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;updateTime&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">draft</span><span class="o">.</span><span class="n">province_confirmedCount</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&#34;ffill&#34;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">draft</span><span class="o">.</span><span class="n">province_suspectedCount</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&#34;ffill&#34;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">draft</span><span class="o">.</span><span class="n">province_curedCount</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&#34;ffill&#34;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">draft</span><span class="o">.</span><span class="n">province_deadCount</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&#34;ffill&#34;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：补全部分时间，取前日的数据进行插值，因为有的省份从4月末开始陆续就不再有新增病患，不再上报，所以这些省份的数据只能补全到4月末，往后的数据逐渐失去真实性</p>
<p>分析：同时进行日期格式化</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">province</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">    <span class="n">date_d</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">dt</span> <span class="ow">in</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]][</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="n">date_d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">date_d</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">date_d</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="n">date_d</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">start</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]][</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">end</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]][</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">dates</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">aid_frame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;updateTime&#39;</span><span class="p">:</span> <span class="n">dates</span><span class="p">,</span><span class="s1">&#39;provinceName&#39;</span><span class="p">:[</span><span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">dates</span><span class="p">)})</span>
</span></span><span class="line"><span class="cl">    <span class="n">aid_frame</span><span class="o">.</span><span class="n">updateTime</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">aid_frame</span><span class="o">.</span><span class="n">updateTime</span><span class="p">,</span><span class="nb">format</span><span class="o">=</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2">&#34;</span><span class="p">,</span><span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
</span></span><span class="line"><span class="cl">    <span class="n">X</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">    <span class="n">X</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">Y</span> <span class="o">=</span> <span class="n">aid_frame</span>
</span></span><span class="line"><span class="cl">    <span class="n">Y</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">draft_d</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p">],</span> <span class="n">join</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;updateTime&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">draft</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">draft</span><span class="p">,</span><span class="n">draft_d</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="n">draft</span><span class="o">.</span><span class="n">province_confirmedCount</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&#34;ffill&#34;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">draft</span><span class="o">.</span><span class="n">province_suspectedCount</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&#34;ffill&#34;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">draft</span><span class="o">.</span><span class="n">province_curedCount</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&#34;ffill&#34;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">draft</span><span class="o">.</span><span class="n">province_deadCount</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&#34;ffill&#34;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#draft[&#39;updateTime&#39;] = draft[&#39;updateTime&#39;].strftime(&#39;%Y-%m-%d&#39;)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#draft[&#39;updateTime&#39;] = pd.to_datetime(draft[&#39;updateTime&#39;],format=&#34;%Y-%m-%d&#34;,errors=&#39;coerce&#39;).dt.date</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">china</span> <span class="o">=</span> <span class="n">draft</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">china</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>continentName</th>
      <th>continentEnglishName</th>
      <th>countryName</th>
      <th>countryEnglishName</th>
      <th>provinceName</th>
      <th>provinceEnglishName</th>
      <th>province_zipCode</th>
      <th>province_confirmedCount</th>
      <th>province_suspectedCount</th>
      <th>province_curedCount</th>
      <th>province_deadCount</th>
      <th>updateTime</th>
      <th>cityName</th>
      <th>cityEnglishName</th>
      <th>city_zipCode</th>
      <th>city_confirmedCount</th>
      <th>city_suspectedCount</th>
      <th>city_curedCount</th>
      <th>city_deadCount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>208226</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>天津市</td>
      <td>Tianjin</td>
      <td>120000.0</td>
      <td>14.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2020-01-26</td>
      <td>外地来津</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>208224</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>天津市</td>
      <td>Tianjin</td>
      <td>120000.0</td>
      <td>14.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2020-01-26</td>
      <td>河北区</td>
      <td>Hebei District</td>
      <td>120105.0</td>
      <td>5.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>208228</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>天津市</td>
      <td>Tianjin</td>
      <td>120000.0</td>
      <td>14.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2020-01-26</td>
      <td>和平区</td>
      <td>Heping District</td>
      <td>120101.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>208227</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>天津市</td>
      <td>Tianjin</td>
      <td>120000.0</td>
      <td>14.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2020-01-26</td>
      <td>滨海新区</td>
      <td>Binhai New Area</td>
      <td>120116.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>208230</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>天津市</td>
      <td>Tianjin</td>
      <td>120000.0</td>
      <td>14.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>2020-01-26</td>
      <td>西青区</td>
      <td>Xiqing District</td>
      <td>120111.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
<h2 id="四-数据分析及可视化">四. 数据分析及可视化</h2>
<p>在进行数据分析及可视化时，依据每个问题选取所需变量并新建DataFrame再进行分析和可视化展示，这样数据不易乱且条理更清晰。</p>
<h3 id="基础分析">基础分析</h3>
<p>基础分析，<strong>只允许使用numpy、pandas和matplotlib库</strong>。</p>
<p>可以在一张图上多个坐标系展示也可以在多张图上展示</p>
<p>请根据分析目的选择图形的类型(折线图、饼图、直方图和散点图等等)，实在没有主意可以到百度疫情地图或其他疫情分析的站点激发激发灵感。</p>
<h4 id="一全国累计确诊疑似治愈死亡情况随时间变化趋势如何">（一）全国累计确诊/疑似/治愈/死亡情况随时间变化趋势如何？</h4>
<p>分析：要获得全国累计情况随时间变化趋势，首先需要整合每日全国累计确诊情况做成date_confirmed</p>
<p>分析：要整合每日全国累计确诊情况，首先得提取每个省份每日当天最新累计确诊人数，省份数据求和后形成dataframe，<br>
for循环拼接到date_confirmed中</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">date</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl"><span class="n">date</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">date</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">    [datetime.date(2020, 1, 24),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 1, 25),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 1, 26),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 1, 27),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 1, 28),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 1, 29),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 1, 30),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 1, 31),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 1),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 2),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 3),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 4),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 5),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 6),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 7),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 8),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 9),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 10),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 11),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 12),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 13),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 14),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 15),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 16),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 17),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 18),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 19),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 20),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 21),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 22),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 23),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 24),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 25),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 26),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 27),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 28),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 2, 29),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 1),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 2),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 3),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 4),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 5),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 6),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 7),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 8),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 9),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 10),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 11),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 12),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 13),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 14),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 15),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 16),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 17),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 18),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 19),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 20),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 21),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 22),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 23),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 24),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 25),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 26),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 27),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 28),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 29),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 30),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 3, 31),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 1),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 2),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 3),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 4),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 5),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 6),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 7),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 8),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 9),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 10),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 11),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 12),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 13),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 14),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 15),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 16),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 17),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 18),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 19),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 20),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 21),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 22),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 23),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 24),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 25),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 26),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 27),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 28),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 29),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 4, 30),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 1),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 2),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 3),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 4),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 5),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 6),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 7),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 8),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 9),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 10),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 11),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 12),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 13),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 14),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 15),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 16),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 17),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 18),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 19),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 20),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 21),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 22),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 23),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 24),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 25),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 26),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 27),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 28),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 29),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 30),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 5, 31),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 1),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 2),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 3),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 4),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 5),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 6),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 7),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 8),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 9),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 10),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 11),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 12),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 13),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 14),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 15),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 16),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 17),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 18),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 19),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 20),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 21),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 22),
</span></span><span class="line"><span class="cl">     datetime.date(2020, 6, 23)]
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">china</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;provinceName&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">china</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：循环遍历省份和日期获得每个省份每日累计确诊，因为需要拼接，先初始化一个date_confirmed</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">list_p</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">list_d</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">list_e</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">32</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">con_0</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">        <span class="n">list_p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_0</span><span class="p">[</span><span class="s1">&#39;province_confirmedCount&#39;</span><span class="p">])</span><span class="c1">#该日每省的累计确诊人数</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span>
</span></span><span class="line"><span class="cl"><span class="n">list_d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">list_p</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">list_e</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl"><span class="n">date_confirmed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_d</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">list_e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">date_confirmed</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;date&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">date_confirmed</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;China_confirmedCount&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">date_confirmed</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>China_confirmedCount</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-01-24</th>
      <td>1956.0</td>
    </tr>
  </tbody>
</table>
</div>
<p>分析：遍历每个省份拼接每日的总确诊人数的dataframe</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">l</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">date</span><span class="p">[</span><span class="mi">3</span><span class="p">:]:</span>
</span></span><span class="line"><span class="cl">    <span class="n">list_p</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="n">list_d</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="n">list_e</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="n">l</span> <span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">32</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">con_0</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">[</span><span class="n">l</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">            <span class="n">list_p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_0</span><span class="p">[</span><span class="s1">&#39;province_confirmedCount&#39;</span><span class="p">])</span><span class="c1">#该日每省的累计确诊人数</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#con_0 = china.loc[china[&#39;updateTime&#39;] == date[0]].loc[china[&#39;provinceName&#39;] == &#39;河北省&#39;].loc[[0]].iloc[0]</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#list_p.append(con_0[&#39;province_confirmedCount&#39;])#该日每省的累计确诊人数</span>
</span></span><span class="line"><span class="cl">    <span class="n">list_d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">list_p</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="n">list_e</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="n">l</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl">    <span class="n">confirmed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_d</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">list_e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">confirmed</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;date&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">confirmed</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;China_confirmedCount&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">date_confirmed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">date_confirmed</span><span class="p">,</span><span class="n">confirmed</span><span class="p">],</span><span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">date_confirmed</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>China_confirmedCount</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-01-24</th>
      <td>1956.0</td>
    </tr>
    <tr>
      <th>2020-01-25</th>
      <td>2253.0</td>
    </tr>
    <tr>
      <th>2020-01-26</th>
      <td>1956.0</td>
    </tr>
    <tr>
      <th>2020-01-27</th>
      <td>2825.0</td>
    </tr>
    <tr>
      <th>2020-01-28</th>
      <td>4589.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>2020-06-17</th>
      <td>8106.0</td>
    </tr>
    <tr>
      <th>2020-06-18</th>
      <td>6862.0</td>
    </tr>
    <tr>
      <th>2020-06-19</th>
      <td>6894.0</td>
    </tr>
    <tr>
      <th>2020-06-20</th>
      <td>6921.0</td>
    </tr>
    <tr>
      <th>2020-06-21</th>
      <td>6157.0</td>
    </tr>
  </tbody>
</table>
<p>150 rows × 1 columns</p>
</div>
<p>分析：去除空值和不全的值</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">date_confirmed</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;China_confirmedCount&#39;</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">date_confirmed</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>China_confirmedCount</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-06-02</th>
      <td>78782.0</td>
    </tr>
    <tr>
      <th>2020-06-03</th>
      <td>78780.0</td>
    </tr>
    <tr>
      <th>2020-06-04</th>
      <td>76903.0</td>
    </tr>
    <tr>
      <th>2020-06-05</th>
      <td>76908.0</td>
    </tr>
    <tr>
      <th>2020-06-06</th>
      <td>8777.0</td>
    </tr>
    <tr>
      <th>2020-06-07</th>
      <td>8782.0</td>
    </tr>
    <tr>
      <th>2020-06-08</th>
      <td>8628.0</td>
    </tr>
    <tr>
      <th>2020-06-09</th>
      <td>8634.0</td>
    </tr>
    <tr>
      <th>2020-06-10</th>
      <td>8638.0</td>
    </tr>
    <tr>
      <th>2020-06-11</th>
      <td>8649.0</td>
    </tr>
    <tr>
      <th>2020-06-12</th>
      <td>8658.0</td>
    </tr>
    <tr>
      <th>2020-06-13</th>
      <td>8665.0</td>
    </tr>
    <tr>
      <th>2020-06-14</th>
      <td>8733.0</td>
    </tr>
    <tr>
      <th>2020-06-15</th>
      <td>8772.0</td>
    </tr>
    <tr>
      <th>2020-06-16</th>
      <td>8055.0</td>
    </tr>
    <tr>
      <th>2020-06-17</th>
      <td>8106.0</td>
    </tr>
    <tr>
      <th>2020-06-18</th>
      <td>6862.0</td>
    </tr>
    <tr>
      <th>2020-06-19</th>
      <td>6894.0</td>
    </tr>
    <tr>
      <th>2020-06-20</th>
      <td>6921.0</td>
    </tr>
    <tr>
      <th>2020-06-21</th>
      <td>6157.0</td>
    </tr>
  </tbody>
</table>
</div>
<p>分析：数据从4月末开始到5月末就因为缺失过多省份的数据(部分省份从4月末至今再也没有新增病患)而失真，自2020-06-06起完全失去真实性，所以我删除了2020-06-06往后的数据</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">date_confirmed</span> <span class="o">=</span> <span class="n">date_confirmed</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;2020-06-06&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-07&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-08&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-09&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-10&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-11&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-12&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-13&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-14&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                     <span class="s1">&#39;2020-06-15&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-16&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-19&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-18&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-20&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-17&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-21&#39;</span><span class="p">])</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：构造拼接函数</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">data_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">china</span><span class="p">,</span><span class="n">element</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">l</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">date</span><span class="p">[</span><span class="mi">3</span><span class="p">:]:</span>
</span></span><span class="line"><span class="cl">        <span class="n">list_p</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="n">list_d</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="n">list_e</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="n">l</span> <span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">32</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">con_0</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">[</span><span class="n">l</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">                <span class="n">list_p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_0</span><span class="p">[</span><span class="n">element</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">            <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">continue</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#con_0 = china.loc[china[&#39;updateTime&#39;] == date[0]].loc[china[&#39;provinceName&#39;] == &#39;河北省&#39;].loc[[0]].iloc[0]</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#list_p.append(con_0[&#39;province_confirmedCount&#39;])</span>
</span></span><span class="line"><span class="cl">        <span class="n">list_d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">list_p</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="n">list_e</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="n">l</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl">        <span class="n">link</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_d</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">list_e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">link</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;date&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">link</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;China&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="bp">self</span><span class="p">,</span><span class="n">link</span><span class="p">],</span><span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="bp">self</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;China&#39;</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="bp">self</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;2020-06-06&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-07&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-08&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-09&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-10&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-11&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-12&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-13&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-14&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                  <span class="s1">&#39;2020-06-15&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-16&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-19&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-18&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-20&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-17&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-21&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="bp">self</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：初始化各个变量</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1">#累计治愈人数  date_curedCount</span>
</span></span><span class="line"><span class="cl"><span class="n">list_p</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">list_d</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">list_e</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">32</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">con_0</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">        <span class="n">list_p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_0</span><span class="p">[</span><span class="s1">&#39;province_curedCount&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span>
</span></span><span class="line"><span class="cl"><span class="n">list_d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">list_p</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">list_e</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl"><span class="n">date_cured</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_d</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">list_e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">date_cured</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;date&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">date_cured</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;China&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#累计死亡人数  date_dead</span>
</span></span><span class="line"><span class="cl"><span class="n">list_p</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">list_d</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">list_e</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">32</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">con_0</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">        <span class="n">list_p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_0</span><span class="p">[</span><span class="s1">&#39;province_deadCount&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span>
</span></span><span class="line"><span class="cl"><span class="n">list_d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">list_p</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">list_e</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl"><span class="n">date_dead</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_d</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">list_e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">date_dead</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;date&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">date_dead</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;China&#34;</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1">#累计确诊患者  date_confirmed</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.sans-serif&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SimHei&#39;</span><span class="p">]</span> <span class="c1">#更改字体,否则无法显示汉字</span>
</span></span><span class="line"><span class="cl"><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="n">date_confirmed</span><span class="o">.</span><span class="n">index</span>
</span></span><span class="line"><span class="cl"><span class="n">y</span> <span class="o">=</span> <span class="n">date_confirmed</span><span class="o">.</span><span class="n">values</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">dt_hex</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;累计确诊患者&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">24</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="mi">30</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://img-blog.csdnimg.cn/20200704145349924.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        data-srcset="https://img-blog.csdnimg.cn/20200704145349924.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center, https://img-blog.csdnimg.cn/20200704145349924.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 1.5x, https://img-blog.csdnimg.cn/20200704145349924.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 2x"
        data-sizes="auto"
        alt="https://img-blog.csdnimg.cn/20200704145349924.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        title="在这里插入图片描述" /></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1">#累计治愈患者 date_curedCount</span>
</span></span><span class="line"><span class="cl"><span class="n">date_cured</span> <span class="o">=</span> <span class="n">data_frame</span><span class="p">(</span><span class="n">date_cured</span><span class="p">,</span><span class="n">china</span><span class="p">,</span><span class="s1">&#39;province_curedCount&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="n">date_cured</span><span class="o">.</span><span class="n">index</span>
</span></span><span class="line"><span class="cl"><span class="n">y</span> <span class="o">=</span> <span class="n">date_cured</span><span class="o">.</span><span class="n">values</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;累计治愈患者&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">24</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">dt_hex</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="mi">30</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://img-blog.csdnimg.cn/20200704145409832.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        data-srcset="https://img-blog.csdnimg.cn/20200704145409832.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center, https://img-blog.csdnimg.cn/20200704145409832.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 1.5x, https://img-blog.csdnimg.cn/20200704145409832.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 2x"
        data-sizes="auto"
        alt="https://img-blog.csdnimg.cn/20200704145409832.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        title="在这里插入图片描述" /></p>
<p>分析：累计疑似无法通过补全数据得到</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1">#累计死亡患者 date_dead</span>
</span></span><span class="line"><span class="cl"><span class="n">date_dead</span> <span class="o">=</span> <span class="n">data_frame</span><span class="p">(</span><span class="n">date_dead</span><span class="p">,</span><span class="n">china</span><span class="p">,</span><span class="s1">&#39;province_deadCount&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="n">date_dead</span><span class="o">.</span><span class="n">index</span>
</span></span><span class="line"><span class="cl"><span class="n">y</span> <span class="o">=</span> <span class="n">date_dead</span><span class="o">.</span><span class="n">values</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">dt_hex</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x_major_locator</span><span class="o">=</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;累计死亡患者&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">24</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">x_major_locator</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="mi">30</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://img-blog.csdnimg.cn/2020070414542492.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        data-srcset="https://img-blog.csdnimg.cn/2020070414542492.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center, https://img-blog.csdnimg.cn/2020070414542492.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 1.5x, https://img-blog.csdnimg.cn/2020070414542492.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 2x"
        data-sizes="auto"
        alt="https://img-blog.csdnimg.cn/2020070414542492.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        title="在这里插入图片描述" /></p>
<p>分析：疫情自1月初开始爆发，到2月末开始减缓增速，到4月末趋于平缓。治愈人数自2月初开始大幅增加，到3月末趋于平缓，死亡人数自1月末开始增加，到2月末趋于平缓，到4月末因为统计因素死亡人数飙升后趋于平缓。   <br>
分析总结：确诊人数数据和治愈数据从4月末开始到5月末就因为缺失过多省份的数据(部分省份至今再也没有新增病患)导致失真，其他数据尽量通过补全,越靠近尾部数据越失真。死亡数据补全较为成功，几乎没有错漏。</p>
<h4 id="二全国新增确诊疑似治愈死亡情况随时间变化趋势如何">（二）全国新增确诊/疑似/治愈/死亡情况随时间变化趋势如何？</h4>
<p>分析：新增确诊/治愈/死亡的数据需要对china进行运算，每省每日进行diff差值运算</p>
<p>分析：首先初始化各个数据，然后仿照上面的拼接函数，作适用于该题的拼接函数</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1">#新增确诊人数  date_new_confirmed</span>
</span></span><span class="line"><span class="cl"><span class="n">list_p</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">list_d</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">list_e</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">32</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">con_0</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">        <span class="n">list_p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_0</span><span class="p">[</span><span class="s1">&#39;province_confirmedCount&#39;</span><span class="p">])</span><span class="c1">#该日每省的累计确诊人数</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span>
</span></span><span class="line"><span class="cl"><span class="n">list_d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">list_p</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">list_e</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_confirmed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_d</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">list_e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_confirmed</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;date&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_confirmed</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;China&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_confirmed</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#新增治愈人数  date_new_curedCount</span>
</span></span><span class="line"><span class="cl"><span class="n">list_p</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">list_d</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">list_e</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">32</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">con_0</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">        <span class="n">list_p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_0</span><span class="p">[</span><span class="s1">&#39;province_curedCount&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span>
</span></span><span class="line"><span class="cl"><span class="n">list_d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">list_p</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">list_e</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_cured</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_d</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">list_e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_cured</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;date&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_cured</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;China&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#新增死亡人数  date_new_dead</span>
</span></span><span class="line"><span class="cl"><span class="n">list_p</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">list_d</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">list_e</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">32</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">con_0</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">        <span class="n">list_p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_0</span><span class="p">[</span><span class="s1">&#39;province_deadCount&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span>
</span></span><span class="line"><span class="cl"><span class="n">list_d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">list_p</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">list_e</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_dead</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_d</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">list_e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_dead</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;date&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_dead</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;China&#34;</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：构造拼接函数</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">data_new_frame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">china</span><span class="p">,</span><span class="n">element</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">l</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">date</span><span class="p">[</span><span class="mi">3</span><span class="p">:]:</span>
</span></span><span class="line"><span class="cl">        <span class="n">list_p</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="n">list_d</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="n">list_e</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">        <span class="n">l</span> <span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">32</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">con_0</span> <span class="o">=</span> <span class="n">china</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">[</span><span class="n">l</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">china</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">                <span class="n">list_p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_0</span><span class="p">[</span><span class="n">element</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">            <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">continue</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#con_0 = china.loc[china[&#39;updateTime&#39;] == date[0]].loc[china[&#39;provinceName&#39;] == &#39;河北省&#39;].loc[[0]].iloc[0]</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#list_p.append(con_0[&#39;province_confirmedCount&#39;])</span>
</span></span><span class="line"><span class="cl">        <span class="n">list_d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">list_p</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="n">list_e</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="n">l</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl">        <span class="n">link</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_d</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">list_e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">link</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;date&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="n">link</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;China&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="bp">self</span><span class="p">,</span><span class="n">link</span><span class="p">],</span><span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="bp">self</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;China&#39;</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="bp">self</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：数据补全以及去除含缺失省份的数据</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">d</span> <span class="o">=</span> <span class="n">data_new_frame</span><span class="p">(</span><span class="n">date_new_confirmed</span><span class="p">,</span><span class="n">china</span><span class="p">,</span><span class="s1">&#39;province_confirmedCount&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">    <span class="n">dr</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">b</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">d</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">            <span class="n">dr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">b</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="n">d</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="o">~</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;China&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">dr</span><span class="p">)]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：做差值运算</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">d</span><span class="p">[</span><span class="s1">&#39;China&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;China&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：去除两个含缺失省份的日期</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">d</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;2020-06-20&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-21&#39;</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：作折线图表现时间趋势</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1">#新增确诊患者  date_confirmed</span>
</span></span><span class="line"><span class="cl"><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">index</span>
</span></span><span class="line"><span class="cl"><span class="n">y</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">values</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;新增确诊患者&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">24</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">dt_hex</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="mi">10</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>[&lt;matplotlib.axis.XTick at 0x25552a9c898&gt;,
 &lt;matplotlib.axis.XTick at 0x25552a9c860&gt;,
 &lt;matplotlib.axis.XTick at 0x25552ab7550&gt;,
 &lt;matplotlib.axis.XTick at 0x25552ad50f0&gt;,
 &lt;matplotlib.axis.XTick at 0x25552ad5518&gt;,
 &lt;matplotlib.axis.XTick at 0x25552ad59b0&gt;,
 &lt;matplotlib.axis.XTick at 0x25552ad5e48&gt;,
 &lt;matplotlib.axis.XTick at 0x25552adc320&gt;]
</code></pre>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://img-blog.csdnimg.cn/20200704145442353.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        data-srcset="https://img-blog.csdnimg.cn/20200704145442353.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center, https://img-blog.csdnimg.cn/20200704145442353.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 1.5x, https://img-blog.csdnimg.cn/20200704145442353.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 2x"
        data-sizes="auto"
        alt="https://img-blog.csdnimg.cn/20200704145442353.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        title="在这里插入图片描述" /></p>
<p>分析：使用初始化数据构造date_new_cured的dataframe，然后作折线图表现时间趋势</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">cu</span> <span class="o">=</span> <span class="n">data_new_frame</span><span class="p">(</span><span class="n">date_new_cured</span><span class="p">,</span><span class="n">china</span><span class="p">,</span><span class="s1">&#39;province_curedCount&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cu</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">    <span class="n">dr</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">cu</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">cu</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">cu</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">b</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">cu</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">            <span class="n">dr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cu</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">b</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="n">cu</span> <span class="o">=</span> <span class="n">cu</span><span class="p">[</span><span class="o">~</span><span class="n">cu</span><span class="p">[</span><span class="s1">&#39;China&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">dr</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl"><span class="n">cu</span><span class="p">[</span><span class="s1">&#39;China&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cu</span><span class="p">[</span><span class="s1">&#39;China&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">cu</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;2020-06-20&#39;</span><span class="p">,</span><span class="s1">&#39;2020-06-21&#39;</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#新增治愈患者  date_new_cured</span>
</span></span><span class="line"><span class="cl"><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="n">cu</span><span class="o">.</span><span class="n">index</span>
</span></span><span class="line"><span class="cl"><span class="n">y</span> <span class="o">=</span> <span class="n">cu</span><span class="o">.</span><span class="n">values</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;新增治愈患者&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">24</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">dt_hex</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="mi">10</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>[&lt;matplotlib.axis.XTick at 0x25552b13b00&gt;,
 &lt;matplotlib.axis.XTick at 0x25552b13ac8&gt;,
 &lt;matplotlib.axis.XTick at 0x25552b137b8&gt;,
 &lt;matplotlib.axis.XTick at 0x25552b3f470&gt;,
 &lt;matplotlib.axis.XTick at 0x25552b3f908&gt;,
 &lt;matplotlib.axis.XTick at 0x25552b3fda0&gt;,
 &lt;matplotlib.axis.XTick at 0x25552b47278&gt;]
</code></pre>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://img-blog.csdnimg.cn/20200704145506708.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        data-srcset="https://img-blog.csdnimg.cn/20200704145506708.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center, https://img-blog.csdnimg.cn/20200704145506708.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 1.5x, https://img-blog.csdnimg.cn/20200704145506708.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 2x"
        data-sizes="auto"
        alt="https://img-blog.csdnimg.cn/20200704145506708.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        title="在这里插入图片描述" /></p>
<p>分析：使用初始化数据构造date_new_dead的dataframe，然后作折线图表现时间趋势</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">de</span> <span class="o">=</span> <span class="n">data_new_frame</span><span class="p">(</span> <span class="n">date_new_dead</span><span class="p">,</span><span class="n">china</span><span class="p">,</span><span class="s1">&#39;province_deadCount&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">de</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">    <span class="n">dr</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">de</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">de</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">de</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">b</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">de</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">a</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">            <span class="n">dr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">de</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">b</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="n">de</span> <span class="o">=</span> <span class="n">de</span><span class="p">[</span><span class="o">~</span><span class="n">de</span><span class="p">[</span><span class="s1">&#39;China&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">dr</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl"><span class="n">de</span><span class="p">[</span><span class="s1">&#39;China&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">de</span><span class="p">[</span><span class="s1">&#39;China&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">de</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;2020-06-21&#39;</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#新增死亡患者   date_new_dead</span>
</span></span><span class="line"><span class="cl"><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="n">de</span><span class="o">.</span><span class="n">index</span>
</span></span><span class="line"><span class="cl"><span class="n">y</span> <span class="o">=</span> <span class="n">de</span><span class="o">.</span><span class="n">values</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;新增死亡患者&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">24</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">dt_hex</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="mi">10</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>[&lt;matplotlib.axis.XTick at 0x25553bdfd30&gt;,
 &lt;matplotlib.axis.XTick at 0x25553bdfcf8&gt;,
 &lt;matplotlib.axis.XTick at 0x25553c01f60&gt;,
 &lt;matplotlib.axis.XTick at 0x25553c146a0&gt;,
 &lt;matplotlib.axis.XTick at 0x25553c14b38&gt;,
 &lt;matplotlib.axis.XTick at 0x25553c14d68&gt;,
 &lt;matplotlib.axis.XTick at 0x25553c1b4a8&gt;,
 &lt;matplotlib.axis.XTick at 0x25553c1b940&gt;,
 &lt;matplotlib.axis.XTick at 0x25553c1bdd8&gt;]
</code></pre>
<p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://img-blog.csdnimg.cn/202007041458429.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        data-srcset="https://img-blog.csdnimg.cn/202007041458429.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center, https://img-blog.csdnimg.cn/202007041458429.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 1.5x, https://img-blog.csdnimg.cn/202007041458429.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 2x"
        data-sizes="auto"
        alt="https://img-blog.csdnimg.cn/202007041458429.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        title="在这里插入图片描述" /></p>
<p>分析：新增患者自1月末开始增加，到2月14日前后到达顶点，后增数下降，趋于平缓。 <br>
分析：新增治愈患者自1月末开始增加，到3月02日前后达到顶峰，后增数下降，从4月初开始趋于平缓。 <br>
分析：新增死亡患者自1月末开始增加，到2月达到高峰，自3月初开始增数平缓，到4月17日前后因为统计因素飙升后回落。</p>
<h4 id="三全国新增境外输入随时间变化趋势如何">（三）全国新增境外输入随时间变化趋势如何？</h4>
<p>分析：新增境外输入数据需要对CHINA进行运算，逐日相减。</p>
<p>分析：先从CHINA取出境外输入的数据，然后补全时间序列并作差。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">imported</span> <span class="o">=</span> <span class="n">CHINA</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">CHINA</span><span class="p">[</span><span class="s1">&#39;cityName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;境外输入&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">imported</span><span class="o">.</span><span class="n">updateTime</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">imported</span><span class="o">.</span><span class="n">updateTime</span><span class="p">,</span><span class="nb">format</span><span class="o">=</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2">&#34;</span><span class="p">,</span><span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
</span></span><span class="line"><span class="cl"><span class="n">imported</span>
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>D:\Anaconda\envs\python32\lib\site-packages\pandas\core\generic.py:5303: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  self[name] = value
</code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>continentName</th>
      <th>continentEnglishName</th>
      <th>countryName</th>
      <th>countryEnglishName</th>
      <th>provinceName</th>
      <th>provinceEnglishName</th>
      <th>province_zipCode</th>
      <th>province_confirmedCount</th>
      <th>province_suspectedCount</th>
      <th>province_curedCount</th>
      <th>province_deadCount</th>
      <th>updateTime</th>
      <th>cityName</th>
      <th>cityEnglishName</th>
      <th>city_zipCode</th>
      <th>city_confirmedCount</th>
      <th>city_suspectedCount</th>
      <th>city_curedCount</th>
      <th>city_deadCount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>136</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>陕西省</td>
      <td>Shaanxi</td>
      <td>610000</td>
      <td>317</td>
      <td>1.0</td>
      <td>307</td>
      <td>3</td>
      <td>2020-06-23</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>72.0</td>
      <td>0.0</td>
      <td>65.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>150</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>江苏省</td>
      <td>Jiangsu</td>
      <td>320000</td>
      <td>654</td>
      <td>3.0</td>
      <td>653</td>
      <td>0</td>
      <td>2020-06-23</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>23.0</td>
      <td>0.0</td>
      <td>22.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>201</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>北京市</td>
      <td>Beijing</td>
      <td>110000</td>
      <td>843</td>
      <td>164.0</td>
      <td>584</td>
      <td>9</td>
      <td>2020-06-23</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>174.0</td>
      <td>3.0</td>
      <td>173.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>214</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>河北省</td>
      <td>Hebei</td>
      <td>130000</td>
      <td>346</td>
      <td>0.0</td>
      <td>323</td>
      <td>6</td>
      <td>2020-06-23</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>10.0</td>
      <td>0.0</td>
      <td>10.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>218</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>天津市</td>
      <td>Tianjin</td>
      <td>120000</td>
      <td>198</td>
      <td>48.0</td>
      <td>192</td>
      <td>3</td>
      <td>2020-06-23</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>61.0</td>
      <td>0.0</td>
      <td>59.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>115420</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>陕西省</td>
      <td>Shaanxi</td>
      <td>610000</td>
      <td>250</td>
      <td>1.0</td>
      <td>240</td>
      <td>3</td>
      <td>2020-03-25</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>5.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>115956</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>天津市</td>
      <td>Tianjin</td>
      <td>120000</td>
      <td>145</td>
      <td>0.0</td>
      <td>133</td>
      <td>3</td>
      <td>2020-03-24</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>9.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>116164</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>甘肃省</td>
      <td>Gansu</td>
      <td>620000</td>
      <td>136</td>
      <td>0.0</td>
      <td>119</td>
      <td>2</td>
      <td>2020-03-24</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>45.0</td>
      <td>0.0</td>
      <td>30.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>117171</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>上海市</td>
      <td>Shanghai</td>
      <td>310000</td>
      <td>414</td>
      <td>0.0</td>
      <td>330</td>
      <td>4</td>
      <td>2020-03-24</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>75.0</td>
      <td>0.0</td>
      <td>3.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>117597</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>天津市</td>
      <td>Tianjin</td>
      <td>120000</td>
      <td>142</td>
      <td>0.0</td>
      <td>133</td>
      <td>3</td>
      <td>2020-03-24</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>607 rows × 19 columns</p>
</div>
<p>分析：补全省份缺失时间的数据</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">province</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">    <span class="n">list_j_d</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="n">date_b</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">dt</span> <span class="ow">in</span> <span class="n">imported</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">imported</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">        <span class="n">date_b</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">dt</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="n">list_j_d</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">date_b</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="n">list_j_d</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#imported.loc[imported[&#39;provinceName&#39;] == province[3]]</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">start</span> <span class="o">=</span> <span class="n">imported</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">imported</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">end</span> <span class="o">=</span> <span class="n">imported</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">imported</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">dates_b</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">start</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">end</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="n">aid_frame_b</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;updateTime&#39;</span><span class="p">:</span> <span class="n">dates_b</span><span class="p">,</span><span class="s1">&#39;provinceName&#39;</span><span class="p">:[</span><span class="n">province</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">dates_b</span><span class="p">)})</span>
</span></span><span class="line"><span class="cl">        <span class="n">aid_frame_b</span><span class="o">.</span><span class="n">updateTime</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">aid_frame_b</span><span class="o">.</span><span class="n">updateTime</span><span class="p">,</span><span class="nb">format</span><span class="o">=</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2">&#34;</span><span class="p">,</span><span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
</span></span><span class="line"><span class="cl">        <span class="c1">#draft = pd.merge(china.loc[china[&#39;provinceName&#39;] ==  province[1]], aid_frame, on=&#39;updateTime&#39;, how=&#39;outer&#39;).sort_values(&#39;updateTime&#39;)</span>
</span></span><span class="line"><span class="cl">        <span class="n">draft_b</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">imported</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">imported</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">i</span><span class="p">]],</span> <span class="n">aid_frame_b</span><span class="p">],</span> <span class="n">join</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;updateTime&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">draft_b</span><span class="o">.</span><span class="n">city_confirmedCount</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&#34;ffill&#34;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">draft_b</span><span class="o">.</span><span class="n">city_suspectedCount</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&#34;ffill&#34;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">draft_b</span><span class="o">.</span><span class="n">city_curedCount</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&#34;ffill&#34;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">draft_b</span><span class="o">.</span><span class="n">city_deadCount</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&#34;ffill&#34;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">draft_b</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">draft_b</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">limit</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">draft_b</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">draft_b</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;city_confirmedCount&#39;</span><span class="p">:</span><span class="s1">&#39;city_deadCount&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">draft_b</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">draft_b</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;city_confirmedCount&#39;</span><span class="p">:</span><span class="s1">&#39;city_deadCount&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="n">draft_b</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;city_confirmedCount&#39;</span><span class="p">,</span><span class="s1">&#39;city_suspectedCount&#39;</span><span class="p">,</span><span class="s1">&#39;city_curedCount&#39;</span><span class="p">,</span><span class="s1">&#39;city_deadCount&#39;</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">imported</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">imported</span><span class="p">,</span><span class="n">draft_b</span><span class="p">],</span> <span class="n">join</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;updateTime&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span>
</span></span><span class="line"><span class="cl"><span class="n">imported</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>continentName</th>
      <th>continentEnglishName</th>
      <th>countryName</th>
      <th>countryEnglishName</th>
      <th>provinceName</th>
      <th>provinceEnglishName</th>
      <th>province_zipCode</th>
      <th>province_confirmedCount</th>
      <th>province_suspectedCount</th>
      <th>province_curedCount</th>
      <th>province_deadCount</th>
      <th>updateTime</th>
      <th>cityName</th>
      <th>cityEnglishName</th>
      <th>city_zipCode</th>
      <th>city_confirmedCount</th>
      <th>city_suspectedCount</th>
      <th>city_curedCount</th>
      <th>city_deadCount</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>115956</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>天津市</td>
      <td>Tianjin</td>
      <td>120000.0</td>
      <td>145.0</td>
      <td>0.0</td>
      <td>133.0</td>
      <td>3.0</td>
      <td>2020-03-24</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>9.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>甘肃省</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2020-03-24</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>45.0</td>
      <td>0.0</td>
      <td>30.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>117597</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>天津市</td>
      <td>Tianjin</td>
      <td>120000.0</td>
      <td>142.0</td>
      <td>0.0</td>
      <td>133.0</td>
      <td>3.0</td>
      <td>2020-03-24</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>117597</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>天津市</td>
      <td>Tianjin</td>
      <td>120000.0</td>
      <td>142.0</td>
      <td>0.0</td>
      <td>133.0</td>
      <td>3.0</td>
      <td>2020-03-24</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>6.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>116164</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>甘肃省</td>
      <td>Gansu</td>
      <td>620000.0</td>
      <td>136.0</td>
      <td>0.0</td>
      <td>119.0</td>
      <td>2.0</td>
      <td>2020-03-24</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>45.0</td>
      <td>0.0</td>
      <td>30.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>150</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>江苏省</td>
      <td>Jiangsu</td>
      <td>320000.0</td>
      <td>654.0</td>
      <td>3.0</td>
      <td>653.0</td>
      <td>0.0</td>
      <td>2020-06-23</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>23.0</td>
      <td>0.0</td>
      <td>22.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>136</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>陕西省</td>
      <td>Shaanxi</td>
      <td>610000.0</td>
      <td>317.0</td>
      <td>1.0</td>
      <td>307.0</td>
      <td>3.0</td>
      <td>2020-06-23</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>72.0</td>
      <td>0.0</td>
      <td>65.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>91</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>天津市</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2020-06-23</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>61.0</td>
      <td>0.0</td>
      <td>59.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>136</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>陕西省</td>
      <td>Shaanxi</td>
      <td>610000.0</td>
      <td>317.0</td>
      <td>1.0</td>
      <td>307.0</td>
      <td>3.0</td>
      <td>2020-06-23</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>72.0</td>
      <td>0.0</td>
      <td>65.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>201</th>
      <td>亚洲</td>
      <td>Asia</td>
      <td>中国</td>
      <td>China</td>
      <td>北京市</td>
      <td>Beijing</td>
      <td>110000.0</td>
      <td>843.0</td>
      <td>164.0</td>
      <td>584.0</td>
      <td>9.0</td>
      <td>2020-06-23</td>
      <td>境外输入</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>174.0</td>
      <td>3.0</td>
      <td>173.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>2524 rows × 19 columns</p>
</div>
<p>分析：作copy()防止数据处理失误使得原数据丢失</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">draft_i</span> <span class="o">=</span> <span class="n">imported</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：初始化一个省份数据，保证这个方法可行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">real_s</span> <span class="o">=</span> <span class="n">imported</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">imported</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">province</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl"><span class="n">real_s</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;updateTime&#39;</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">draft_i</span> <span class="o">=</span>  <span class="n">real_s</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">province</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">real_data</span> <span class="o">=</span> <span class="n">imported</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">imported</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">p</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">real_data</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">&#39;updateTime&#39;</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s1">&#39;first&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#imported = pd.concat([real_data, china],sort=False)</span>
</span></span><span class="line"><span class="cl">    <span class="n">draft_i</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">real_data</span><span class="p">,</span><span class="n">draft_i</span><span class="p">],</span><span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>D:\Anaconda\envs\python32\lib\site-packages\ipykernel_launcher.py:2: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  
D:\Anaconda\envs\python32\lib\site-packages\ipykernel_launcher.py:6: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
</code></pre>
<p>分析：确认方法无误，对余下省份进行相同的处理</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">imported</span> <span class="o">=</span> <span class="n">draft_i</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">imported</span> <span class="o">=</span> <span class="n">imported</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;provinceName&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">imported</span> <span class="o">=</span> <span class="n">imported</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：进行各个省份的数据合并。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">list_p</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">list_d</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">list_e</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">32</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">con_0</span> <span class="o">=</span> <span class="n">imported</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">imported</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">imported</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">        <span class="n">list_p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_0</span><span class="p">[</span><span class="s1">&#39;city_confirmedCount&#39;</span><span class="p">])</span><span class="c1">#该日每省的累计确诊人数</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span>
</span></span><span class="line"><span class="cl"><span class="n">list_d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">list_p</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">list_e</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_foreign_confirmed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_d</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="n">list_e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_foreign_confirmed</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;date&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_foreign_confirmed</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;imported_confirmedCount&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_foreign_confirmed</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>imported_confirmedCount</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-01-24</th>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">l</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">date</span><span class="p">[</span><span class="mi">3</span><span class="p">:]:</span>
</span></span><span class="line"><span class="cl">    <span class="n">list_p</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="n">list_d</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="n">list_e</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">    <span class="n">l</span> <span class="o">+=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">32</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">con_0</span> <span class="o">=</span> <span class="n">imported</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">imported</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">[</span><span class="n">l</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">imported</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">province</span><span class="p">[</span><span class="n">p</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">            <span class="n">list_p</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_0</span><span class="p">[</span><span class="s1">&#39;city_confirmedCount&#39;</span><span class="p">])</span><span class="c1">#该日每省的累计确诊人数</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#con_0 = imported.loc[imported[&#39;updateTime&#39;] == date[0]].loc[imported[&#39;provinceName&#39;] == &#39;河北省&#39;].loc[[0]].iloc[0]</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#list_p.append(con_0[&#39;city_confirmedCount&#39;])#该日每省的累计确诊人数</span>
</span></span><span class="line"><span class="cl">    <span class="n">list_d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">list_p</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="n">list_e</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">date</span><span class="p">[</span><span class="n">l</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl">    <span class="n">confirmed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_d</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">list_e</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">confirmed</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;date&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">confirmed</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;imported_confirmedCount&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="n">date_new_foreign_confirmed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">date_new_foreign_confirmed</span><span class="p">,</span><span class="n">confirmed</span><span class="p">],</span><span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">date_new_foreign_confirmed</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>imported_confirmedCount</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-01-24</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2020-01-25</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2020-01-26</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2020-01-27</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2020-01-28</th>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>2020-06-17</th>
      <td>848.0</td>
    </tr>
    <tr>
      <th>2020-06-18</th>
      <td>800.0</td>
    </tr>
    <tr>
      <th>2020-06-19</th>
      <td>800.0</td>
    </tr>
    <tr>
      <th>2020-06-20</th>
      <td>802.0</td>
    </tr>
    <tr>
      <th>2020-06-21</th>
      <td>775.0</td>
    </tr>
  </tbody>
</table>
<p>150 rows × 1 columns</p>
</div>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1">#新增境外输入</span>
</span></span><span class="line"><span class="cl"><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="n">date_new_foreign_confirmed</span><span class="o">.</span><span class="n">index</span>
</span></span><span class="line"><span class="cl"><span class="n">y</span> <span class="o">=</span> <span class="n">date_new_foreign_confirmed</span><span class="o">.</span><span class="n">values</span>
</span></span><span class="line"><span class="cl"><span class="n">plot</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">dt_hex</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;date_new_foreign_confirmed&#39;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="mi">10</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;日期&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;人数&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;COVID-19——新增境外输入&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span> <span class="n">loc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://img-blog.csdnimg.cn/20200704145550512.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        data-srcset="https://img-blog.csdnimg.cn/20200704145550512.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center, https://img-blog.csdnimg.cn/20200704145550512.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 1.5x, https://img-blog.csdnimg.cn/20200704145550512.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 2x"
        data-sizes="auto"
        alt="https://img-blog.csdnimg.cn/20200704145550512.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        title="在这里插入图片描述" /></p>
<p>分析总结：境外输入病例自3月末开始激增，到5月初增速趋于平缓，到6月初开始增速减缓。</p>
<h4 id="四你所在的省市情况如何">（四）你所在的省市情况如何？</h4>
<p>分析：首先取出广东省的所有时间序列,转换成string类型,然后进行排序</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">m_dates</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">myhome</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl"><span class="n">aid_d</span> <span class="o">=</span> <span class="n">m_dates</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">aid_d</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">a</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">m_dates</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">m_dates</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">m_dates</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">myhome</span> <span class="o">=</span> <span class="n">myhome</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;provinceName&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">myhome</span> <span class="o">=</span> <span class="n">myhome</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：遍历我的城市对应的省份的时间构建对应的dataframe</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1">#广东省累计确诊人数</span>
</span></span><span class="line"><span class="cl"><span class="n">list_g</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">m_dates</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">con_m</span> <span class="o">=</span> <span class="n">myhome</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">myhome</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">myhome</span><span class="p">[</span><span class="s1">&#39;cityName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;茂名&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">        <span class="n">list_g</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_m</span><span class="p">[</span><span class="s1">&#39;province_confirmedCount&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">list_g</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span>
</span></span><span class="line"><span class="cl"><span class="n">g_date_confirmed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_g</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">m_dates</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">g_date_confirmed</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;date&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">g_date_confirmed</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;g_confirmed&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">g_date_confirmed</span><span class="o">=</span><span class="n">g_date_confirmed</span><span class="p">[</span><span class="o">~</span><span class="n">g_date_confirmed</span><span class="p">[</span><span class="s1">&#39;g_confirmed&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">0</span><span class="p">])]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#广东省累计治愈人数</span>
</span></span><span class="line"><span class="cl"><span class="n">list_g</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">m_dates</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">con_m</span> <span class="o">=</span> <span class="n">myhome</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">myhome</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">myhome</span><span class="p">[</span><span class="s1">&#39;cityName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;茂名&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">        <span class="n">list_g</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_m</span><span class="p">[</span><span class="s1">&#39;province_curedCount&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">list_g</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span>
</span></span><span class="line"><span class="cl"><span class="n">g_date_cured</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_g</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">m_dates</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">g_date_cured</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;date&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">g_date_cured</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;g_cured&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">g_date_cured</span><span class="o">=</span><span class="n">g_date_cured</span><span class="p">[</span><span class="o">~</span><span class="n">g_date_cured</span><span class="p">[</span><span class="s1">&#39;g_cured&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">0</span><span class="p">])]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">#广东省累计死亡人数</span>
</span></span><span class="line"><span class="cl"><span class="n">list_g</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">m_dates</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">    <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">con_m</span> <span class="o">=</span> <span class="n">myhome</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">myhome</span><span class="p">[</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">date</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">myhome</span><span class="p">[</span><span class="s1">&#39;cityName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;茂名&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl">        <span class="n">list_g</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">con_m</span><span class="p">[</span><span class="s1">&#39;province_deadCount&#39;</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="k">except</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">list_g</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">continue</span>
</span></span><span class="line"><span class="cl"><span class="n">g_date_dead</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">list_g</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">m_dates</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">g_date_dead</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;date&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">g_date_dead</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&#34;g_dead&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">g_date_dead</span><span class="o">=</span><span class="n">g_date_dead</span><span class="p">[</span><span class="o">~</span><span class="n">g_date_dead</span><span class="p">[</span><span class="s1">&#39;g_dead&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="mi">0</span><span class="p">])]</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：作折线图表现疫情随时间变化趋势</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1">##广东省累计确诊人数  广东省累计治愈人数</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.sans-serif&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SimHei&#39;</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl"><span class="n">x</span><span class="o">=</span> <span class="n">g_date_confirmed</span><span class="o">.</span><span class="n">index</span>
</span></span><span class="line"><span class="cl"><span class="n">y1</span> <span class="o">=</span> <span class="n">g_date_confirmed</span><span class="o">.</span><span class="n">values</span>
</span></span><span class="line"><span class="cl"><span class="n">y2</span> <span class="o">=</span> <span class="n">g_date_cured</span><span class="o">.</span><span class="n">values</span>
</span></span><span class="line"><span class="cl"><span class="n">y3</span> <span class="o">=</span> <span class="n">g_date_dead</span>
</span></span><span class="line"><span class="cl"><span class="c1">#font_manager = font_manager.FontProperties(fname = &#39;C:/Windows/Fonts/simsun.ttc&#39;,size = 18)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">dpi</span> <span class="o">=</span> <span class="mi">80</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span class="n">color</span> <span class="o">=</span> <span class="n">r_hex</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;confirmed&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y2</span><span class="p">,</span><span class="n">color</span> <span class="o">=</span> <span class="n">g_hex</span><span class="p">,</span><span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;cured&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x_major_locator</span><span class="o">=</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">x_major_locator</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;COVID-19 —— 广东省&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;日期&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;人数&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.00</span><span class="p">,</span><span class="mf">0.90</span><span class="p">),</span> <span class="n">bbox_transform</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">transAxes</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://img-blog.csdnimg.cn/20200704145714716.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        data-srcset="https://img-blog.csdnimg.cn/20200704145714716.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center, https://img-blog.csdnimg.cn/20200704145714716.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 1.5x, https://img-blog.csdnimg.cn/20200704145714716.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 2x"
        data-sizes="auto"
        alt="https://img-blog.csdnimg.cn/20200704145714716.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        title="在这里插入图片描述" /></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1">#广东省累计死亡人数</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.sans-serif&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SimHei&#39;</span><span class="p">]</span> 
</span></span><span class="line"><span class="cl"><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="n">g_date_dead</span><span class="o">.</span><span class="n">index</span>
</span></span><span class="line"><span class="cl"><span class="n">y</span> <span class="o">=</span> <span class="n">g_date_dead</span><span class="o">.</span><span class="n">values</span>
</span></span><span class="line"><span class="cl"><span class="n">plot</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">dt_hex</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;dead&#39;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="mi">10</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;日期&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;人数&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;COVID-19——广东省&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span> <span class="n">loc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://img-blog.csdnimg.cn/20200704145741377.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        data-srcset="https://img-blog.csdnimg.cn/20200704145741377.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center, https://img-blog.csdnimg.cn/20200704145741377.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 1.5x, https://img-blog.csdnimg.cn/20200704145741377.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 2x"
        data-sizes="auto"
        alt="https://img-blog.csdnimg.cn/20200704145741377.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        title="在这里插入图片描述" /></p>
<p>分析：广东省的数据补全很成功，真实性高。 <br>
分析：从折线图来看，广东省自1月末起感染人数激增，直到2月中旬趋于平缓，3月初开始由于检测普及以及统计因素，短期确诊患者人数小幅度增加。广东省自2月初开始治愈人数激增，直到6月初开始因为新增感染人数趋于平缓，所以治愈人数趋于平缓。广东省自3月初开始不再有新增死亡患者。</p>
<h4 id="五国外疫情态势如何">（五）国外疫情态势如何？</h4>
<p>分析：数据去除空值</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">world</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;any&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#world.set_index(&#39;updateTime&#39;)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：创建国家列表country，创建日期列表date_y</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">country</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">world</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]))</span>
</span></span><span class="line"><span class="cl"><span class="n">date_y</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">dt</span> <span class="ow">in</span> <span class="n">world</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">world</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span>  <span class="n">country</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;updateTime&#39;</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="n">date_y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">dt</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">date_y</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">date_0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">date_y</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：遍历国家列表对world中的updateTime进行处理并去重。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">country</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">world</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">world</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span> <span class="s1">&#39;updateTime&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">world</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">],</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">world</span><span class="o">.</span><span class="n">updateTime</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">world</span><span class="o">.</span><span class="n">updateTime</span><span class="p">,</span><span class="nb">format</span><span class="o">=</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2">&#34;</span><span class="p">,</span><span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">date</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>分析：取前15个国家的province_confirmedCount透视构成world_confirmed，并进行数据补全处理</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">world_confirmed</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">world</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">world</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">15</span><span class="p">)[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;updateTime&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;provinceName&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;province_confirmedCount&#39;</span><span class="p">,</span><span class="n">aggfunc</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">world</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">15</span><span class="p">)[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">:]:</span>
</span></span><span class="line"><span class="cl">    <span class="n">draft_c</span> <span class="o">=</span> <span class="n">world</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">world</span><span class="p">[</span><span class="s1">&#39;provinceName&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;updateTime&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;provinceName&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;province_confirmedCount&#39;</span><span class="p">,</span><span class="n">aggfunc</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">world_confirmed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">world_confirmed</span><span class="p">,</span><span class="n">draft_c</span><span class="p">,</span><span class="n">on</span><span class="o">=</span><span class="s1">&#39;updateTime&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;outer&#39;</span><span class="p">,</span><span class="n">sort</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">world_confirmed</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">limit</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">world_confirmed</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">&#34;ffill&#34;</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">world_confirmed</span>
</span></span></code></pre></td></tr></table>
</div>
</div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>provinceName</th>
      <th>美国</th>
      <th>巴西</th>
      <th>英国</th>
      <th>俄罗斯</th>
      <th>智利</th>
      <th>印度</th>
      <th>巴基斯坦</th>
      <th>秘鲁</th>
      <th>西班牙</th>
      <th>孟加拉国</th>
      <th>法国</th>
      <th>沙特阿拉伯</th>
      <th>瑞典</th>
      <th>南非</th>
      <th>厄瓜多尔</th>
    </tr>
    <tr>
      <th>updateTime</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-01-27</th>
      <td>5.000000e+00</td>
      <td>0.00</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>3.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2020-01-29</th>
      <td>0.000000e+00</td>
      <td>0.00</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>4.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2020-01-30</th>
      <td>0.000000e+00</td>
      <td>0.00</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>5.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2020-01-31</th>
      <td>6.000000e+00</td>
      <td>0.00</td>
      <td>2.000000</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2020-02-01</th>
      <td>6.000000e+00</td>
      <td>0.00</td>
      <td>2.000000</td>
      <td>2.0</td>
      <td>0.0</td>
      <td>1.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>4.00</td>
      <td>0.00</td>
      <td>5.500000</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2020-06-19</th>
      <td>2.184912e+06</td>
      <td>976906.50</td>
      <td>300469.000000</td>
      <td>563084.0</td>
      <td>225103.0</td>
      <td>371474.666667</td>
      <td>162935.600000</td>
      <td>243518.000000</td>
      <td>245268.00</td>
      <td>102292.00</td>
      <td>158641.000000</td>
      <td>145991.000000</td>
      <td>55672.750000</td>
      <td>83020.5</td>
      <td>48256.400000</td>
    </tr>
    <tr>
      <th>2020-06-20</th>
      <td>2.221982e+06</td>
      <td>1038568.00</td>
      <td>302138.750000</td>
      <td>573007.5</td>
      <td>231393.0</td>
      <td>390209.333333</td>
      <td>169464.666667</td>
      <td>247925.000000</td>
      <td>245665.75</td>
      <td>105535.00</td>
      <td>159452.000000</td>
      <td>151277.250000</td>
      <td>56201.500000</td>
      <td>87715.0</td>
      <td>49519.666667</td>
    </tr>
    <tr>
      <th>2020-06-21</th>
      <td>2.253118e+06</td>
      <td>1068977.25</td>
      <td>303284.428571</td>
      <td>579160.0</td>
      <td>236748.0</td>
      <td>399451.714286</td>
      <td>174346.222222</td>
      <td>251338.000000</td>
      <td>245938.00</td>
      <td>109657.75</td>
      <td>160093.000000</td>
      <td>154715.714286</td>
      <td>56360.000000</td>
      <td>92681.0</td>
      <td>49731.000000</td>
    </tr>
    <tr>
      <th>2020-06-22</th>
      <td>2.279603e+06</td>
      <td>1084312.25</td>
      <td>304331.000000</td>
      <td>587720.0</td>
      <td>243276.6</td>
      <td>416389.400000</td>
      <td>179148.750000</td>
      <td>254336.333333</td>
      <td>246272.00</td>
      <td>112306.00</td>
      <td>160336.428571</td>
      <td>158177.500000</td>
      <td>57346.000000</td>
      <td>96377.8</td>
      <td>50092.600000</td>
    </tr>
    <tr>
      <th>2020-06-23</th>
      <td>2.299650e+06</td>
      <td>1106470.00</td>
      <td>305289.000000</td>
      <td>592280.0</td>
      <td>246963.0</td>
      <td>425282.000000</td>
      <td>182562.666667</td>
      <td>257447.000000</td>
      <td>246504.00</td>
      <td>115786.00</td>
      <td>160750.000000</td>
      <td>161005.000000</td>
      <td>59060.666667</td>
      <td>101590.0</td>
      <td>50487.666667</td>
    </tr>
  </tbody>
</table>
<p>144 rows × 15 columns</p>
</div>
<p>分析：作前15个国家的疫情随时间变动表</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1">#plt.rcParams[&#39;font.sans-serif&#39;] = [&#39;SimHei&#39;]  </span>
</span></span><span class="line"><span class="cl"><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">world_confirmed</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">world_confirmed</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;前15个国家累计确诊人数&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;日期&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;人数/百万&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">);</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://img-blog.csdnimg.cn/20200704145629714.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        data-srcset="https://img-blog.csdnimg.cn/20200704145629714.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center, https://img-blog.csdnimg.cn/20200704145629714.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 1.5x, https://img-blog.csdnimg.cn/20200704145629714.png?x-oss-process=image/watermark%2ctype_ZmFuZ3poZW5naGVpdGk%2cshadow_10%2ctext_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==%2csize_16%2ccolor_FFFFFF%2ct_70#pic_center 2x"
        data-sizes="auto"
        alt="https://img-blog.csdnimg.cn/20200704145629714.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NwaXJpdExITA==,size_16,color_FFFFFF,t_70#pic_center"
        title="在这里插入图片描述" /></p>
<p>分析：国外数据的补全较为成功，有一定的真实性。<br>
分析：国外新冠确诊人数自3月末开始激增，排名前四的国家的疫情没有受到控制的趋势，国外疫情的趋势为确诊人数继续激增。</p>
<h4 id="六结合你的分析结果对个人和社会在抗击疫情方面有何建议">（六）结合你的分析结果，对个人和社会在抗击疫情方面有何建议？</h4>
<p>从国内疫情折线图来看，从4月末开始疫情趋于平缓，相反，国外疫情从4月初开始爆发，至今没有看到平缓的趋势。    <br>
从境外输入案例来看，我们需要谨防境外输入病例，遏制国内新冠再次传播，一切都不能放松警惕。 <br>
对于个人，我们要避免到人员密集的区域，外出一定要戴好口罩，回家要做全面的消毒。<br>
对于社会，在交通发达区域和人员密集区域，需要普及病毒检测和场所消毒措施，切断病毒的传播途径，维护我国疫情防控的成果。</p>
<h3 id="附加分析选做">附加分析(选做)</h3>
<p>附加分析，所使用的库不限，比如可以使用seaborn、pyecharts等库。</p>
<p>限于个人能力，没有做。</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2021-07-15</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="http://www.spiritysdx.top/20210715/" data-title="2020新型冠状病毒（COVID-19/2019-nCoV）疫情分析(补档)" data-hashtags="数学建模,python"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="http://www.spiritysdx.top/20210715/" data-hashtag="数学建模"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="分享到 WhatsApp" data-sharer="whatsapp" data-url="http://www.spiritysdx.top/20210715/" data-title="2020新型冠状病毒（COVID-19/2019-nCoV）疫情分析(补档)" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Line" data-sharer="line" data-url="http://www.spiritysdx.top/20210715/" data-title="2020新型冠状病毒（COVID-19/2019-nCoV）疫情分析(补档)"><i data-svg-src="/lib/simple-icons/icons/line.min.svg"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="http://www.spiritysdx.top/20210715/" data-title="2020新型冠状病毒（COVID-19/2019-nCoV）疫情分析(补档)"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Myspace" data-sharer="myspace" data-url="http://www.spiritysdx.top/20210715/" data-title="2020新型冠状病毒（COVID-19/2019-nCoV）疫情分析(补档)" data-description=""><i data-svg-src="/lib/simple-icons/icons/myspace.min.svg"></i></a><a href="javascript:void(0);" title="分享到 Blogger" data-sharer="blogger" data-url="http://www.spiritysdx.top/20210715/" data-title="2020新型冠状病毒（COVID-19/2019-nCoV）疫情分析(补档)" data-description=""><i class="fab fa-blogger fa-fw"></i></a><a href="javascript:void(0);" title="分享到 百度" data-sharer="baidu" data-url="http://www.spiritysdx.top/20210715/" data-title="2020新型冠状病毒（COVID-19/2019-nCoV）疫情分析(补档)"><i data-svg-src="/lib/simple-icons/icons/baidu.min.svg"></i></a><a href="javascript:void(0);" title="分享到 Evernote" data-sharer="evernote" data-url="http://www.spiritysdx.top/20210715/" data-title="2020新型冠状病毒（COVID-19/2019-nCoV）疫情分析(补档)"><i class="fab fa-evernote fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/%E6%95%B0%E5%AD%A6%E5%BB%BA%E6%A8%A1/">数学建模</a>,&nbsp;<a href="/tags/python/">python</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/20210714/" class="prev" rel="prev" title="某区域流体数据处理(只会写操作，不知道具体意义)"><i class="fas fa-angle-left fa-fw"></i>某区域流体数据处理(只会写操作，不知道具体意义)</a>
            <a href="/20210717/" class="next" rel="next" title="直接通过jupyternotebook安装库">直接通过jupyternotebook安装库<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>

<div id="comments"><div id="telegram-comments" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://comments.app/">Telegram Comments</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div id="ezoic-pub-ad-placeholder-101">
        </div>
        
<div id="ezoic-pub-ad-placeholder-102"> </div>

        <div class="footer-container"><div class="footer-line">Copyright 
                    <i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2019 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">二叉树上的我</a></span>保留所有权利&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
            <a href="https://boringbay.com"><img src="https://boringbay.com/api/badge/www.spiritysdx.top" width="11%" height="9%"></img></a>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/lightgallery/lightgallery.min.css"><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script type="text/javascript" src="https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.fill%2CArray.prototype.find%2CArray.from%2CIntersectionObserver%2CMath.sign%2CObject.assign%2CPromise%2CObject.entries%2CElement.prototype.closest%2CrequestAnimationFrame%2CCustomEvent%2Chtml5shiv%2CObject.values%2Cfetch%2CElement.prototype.after"></script><script type="text/javascript" src="/lib/object-fit-images/ofi.min.js"></script><script type="text/javascript" src="https://comments.app/js/widget.js?2" defer data-comments-app-website="zowkAKVw" data-limit="10" data-colorful="1"></script><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.zh.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lightgallery.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-thumbnail.min.js"></script><script type="text/javascript" src="/lib/lightgallery/lg-zoom.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"lunr"}};</script><script type="text/javascript" src="/js/theme.min.js"></script><script type="text/javascript">
            window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
            gtag('config', 'G-3TD0N5Q1SC', { 'anonymize_ip': true });
        </script><script type="text/javascript" src="https://www.googletagmanager.com/gtag/js?id=G-3TD0N5Q1SC" async></script></body>
</html>
